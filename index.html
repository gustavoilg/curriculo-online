<!doctype html>
<html lang="pt-BR">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Gerador de Curr√≠culo ‚Äì Modelos Premium</title>

<style>
*{box-sizing:border-box;margin:0;padding:0;font-family:Inter,Arial,Helvetica,sans-serif}
body{background:linear-gradient(135deg,#eef2ff,#f0f9ff 60%,#fffaf0);padding:28px;display:flex;justify-content:center}
.container{width:100%;max-width:920px;background:#fff;padding:26px;border-radius:14px;box-shadow:0 12px 40px rgba(2,6,23,0.08)}
.titulo-principal{font-size:26px;font-weight:800;text-align:center;background:linear-gradient(90deg,#4f46e5,#9333ea);-webkit-background-clip:text;color:transparent}
.subtitulo{text-align:center;color:#6b7280;margin-bottom:16px}

.section{background:#fbfdff;border:1px solid #eef2ff;padding:14px;border-radius:12px;margin-bottom:12px}
.section-title{font-size:15px;font-weight:700;color:#1f2937;margin-bottom:10px}
input,textarea,select{width:100%;padding:10px;border-radius:10px;border:1px solid #e6eef9;background:#fff;margin-bottom:10px;font-size:14px}
textarea{resize:vertical;min-height:80px}

.add-btn{display:inline-flex;align-items:center;gap:8px;background:linear-gradient(180deg,#eef2ff,#f7fbff);border:1px solid #dbeafe;color:#1e3a8a;padding:8px 10px;border-radius:8px;cursor:pointer;font-weight:600}
.btn-primary{background:linear-gradient(90deg,#4f46e5,#7c3aed);color:#fff;border:none;padding:12px 16px;border-radius:10px;cursor:pointer;font-weight:700}
.btn-secondary{background:#eef2ff;border:1px solid #c7d2fe;color:#1e3a8a;padding:10px 14px;border-radius:10px;cursor:pointer}

.preview-modal{display:none;position:fixed;inset:0;background:rgba(0,0,0,0.6);backdrop-filter:blur(4px);justify-content:center;align-items:flex-start;padding:28px;z-index:1200}
.preview-wrapper{position:relative;transform:scale(0.62);transform-origin:top center;background:#fff;border-radius:8px;padding:12px}
.close-preview{position:absolute;top:-56px;right:0;font-size:42px;color:#fff;background:transparent;border:none;cursor:pointer}

.a4-sheet{width:794px;height:1123px;background:#fff;border-radius:6px;display:flex;flex-direction:column;overflow:hidden;box-shadow:0 10px 40px rgba(2,6,23,0.15)}
.topbar{height:120px;background:linear-gradient(90deg,#365b90,#2a4770);position:relative}
.sheet-inner{display:flex;flex:1}
.left-col{width:240px;padding:22px;background:#fafbfd;border-right:1px solid #eef2ff;display:flex;flex-direction:column;gap:16px}
.right-col{flex:1;padding:28px 36px;overflow:auto}

.photo{width:120px;height:120px;border-radius:999px;background:#fff;border:4px solid rgba(255,255,255,0.2);display:flex;align-items:center;justify-content:center;font-weight:700;color:#334155;margin-bottom:4px;background-size:cover;background-position:center;background-repeat:no-repeat}

.pv-block h4{font-size:13px;color:#0f172a;margin-bottom:8px;border-bottom:1px solid #e6eef9;padding-bottom:6px}
.pv-block p{font-size:13px;color:#475569;line-height:1.45}
#pv_nome{font-size:30px;font-weight:800;color:#0f172a;margin-bottom:6px}
.pv-cargo{font-size:13px;color:#64748b;margin-bottom:12px}
.pv-section{margin-top:12px}
.pv-section h3{font-size:14px;color:#0f172a;border-bottom:1px solid #e6eef9;padding-bottom:6px;margin-bottom:8px}
.pv-section p{font-size:14px;color:#334155;line-height:1.5;margin-bottom:6px}
.pv-item{margin-bottom:10px}

.preview-actions{display:flex;gap:12px;justify-content:flex-end;margin-top:12px}
.preview-actions button{min-width:160px}

/* Premium 1 */
.premium1 .topbar{background:linear-gradient(90deg,#4f46e5,#9333ea)}
.premium1 .pv-block h4{color:#1e40af}
.premium1 .skill-bar{height:8px;background:#e0e7ff;border-radius:4px;margin-bottom:6px;position:relative}
.premium1 .skill-bar span{display:block;height:100%;background:#4f46e5;border-radius:4px;position:absolute;left:0;top:0}

/* Premium 2 */
.premium2 .topbar{background:linear-gradient(90deg,#9333ea,#ec4899,#f97316)}
.premium2 .pv-block h4{color:#b91c1c}
.premium2 .skill-bar span{background:linear-gradient(90deg,#9333ea,#ec4899)}
.premium2 .card{background:#fef3c7;border-radius:8px;padding:10px;margin-bottom:6px;box-shadow:0 4px 12px rgba(0,0,0,0.08)}

@media(max-width:640px){
  .preview-wrapper{transform:scale(0.38);padding:10px}
  .close-preview{top:-48px;font-size:32px}
}
</style>

<div class="container">
  <h1 class="titulo-principal">Gerador de Curr√≠culo</h1>
  <p class="subtitulo">Escolha um modelo e preencha seus dados</p>

  <section class="section">
    <div class="section-title">MODELO</div>
    <select id="modelo">
      <option value="basico">B√°sico (Gr√°tis)</option>
      <option value="premium1">Premium 1</option>
      <option value="premium2">Premium 2</option>
    </select>
  </section>

  <section class="section">
    <div class="section-title">DADOS PESSOAIS</div>
    <label>Nome</label>
    <input id="nome">
    <label>Foto</label>
    <input type="file" id="foto" accept="image/*">
    <label>Profiss√£o</label>
    <input id="profissao">
    <label>E-mail</label>
    <input id="email">
    <label>Telefone</label>
    <input id="telefone">
    <label>Endere√ßo</label>
    <input id="endereco">
  </section>

  <section class="section premium-fields" style="display:none">
    <div class="section-title">DADOS PREMIUM</div>
    <label>Habilidades (ex: HTML:80, CSS:70, JS:90)</label>
    <input id="habilidades">
    <label>Projetos (um por linha)</label>
    <textarea id="projetos"></textarea>
    <label>Certifica√ß√µes (uma por linha)</label>
    <textarea id="certificacoes"></textarea>
  </section>

  <section class="section">
    <div class="section-title">OBJETIVO / RESUMO</div>
    <textarea id="objetivo"></textarea>
  </section>

  <button id="btnGerar" class="btn-primary">Gerar Meu Curr√≠culo</button>
</div>

<!-- Preview -->
<div id="previewModal" class="preview-modal">
  <div class="preview-wrapper">
    <button id="closePreview" class="close-preview">‚úï</button>
    <div class="a4-sheet" id="a4Sheet">
      <div class="topbar"></div>
      <div class="sheet-inner">
        <aside class="left-col">
          <div class="photo" id="pv_foto">FOTO</div>
          <div class="pv-block"><h4>CONTATO</h4><p id="pv_contato"></p></div>
          <div class="pv-block"><h4>IDIOMAS</h4><p id="pv_idiomas">Portugu√™s ‚Äî Nativo</p></div>
          <div class="pv-block"><h4>HABILIDADES</h4><div id="pv_habilidades"></div></div>
          <div class="pv-block"><h4>INTERESSES</h4><p id="pv_interesses">Tecnologia ‚Ä¢ Leitura ‚Ä¢ Esportes</p></div>
        </aside>
        <main class="right-col">
          <h1 id="pv_nome">Nome Completo</h1>
          <div id="pv_cargo" class="pv-cargo"></div>
          <section class="pv-section">
            <h3>PERFIL PROFISSIONAL</h3>
            <p id="pv_objetivo"></p>
          </section>
          <section class="pv-section">
            <h3>PROJETOS</h3>
            <div id="pv_projetos"></div>
          </section>
          <section class="pv-section">
            <h3>CERTIFICA√á√ïES</h3>
            <div id="pv_certificacoes"></div>
          </section>
        </main>
      </div>
    </div>
    <div class="preview-actions">
      <button id="watchAd" class="btn-secondary">Pagar PIX R$4,99</button>
      <button id="downloadPdf" class="btn-primary" disabled>Baixar PDF</button>
    </div>
  </div>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
<script>
(function(){
const nomeInput=document.getElementById('nome');
const profissaoInput=document.getElementById('profissao');
const emailInput=document.getElementById('email');
const telefoneInput=document.getElementById('telefone');
const enderecoInput=document.getElementById('endereco');
const objetivoInput=document.getElementById('objetivo');
const habilidadesInput=document.getElementById('habilidades');
const projetosInput=document.getElementById('projetos');
const certificacoesInput=document.getElementById('certificacoes');
const fotoInput=document.getElementById('foto');
const modelo=document.getElementById('modelo');
const premiumFields=document.querySelector('.premium-fields');

const previewModal=document.getElementById('previewModal');
const closePreview=document.getElementById('closePreview');
const btnGerar=document.getElementById('btnGerar');
const watchAd=document.getElementById('watchAd');
const downloadPdf=document.getElementById('downloadPdf');

const pv_foto=document.getElementById('pv_foto');
const pv_nome=document.getElementById('pv_nome');
const pv_cargo=document.getElementById('pv_cargo');
const pv_objetivo=document.getElementById('pv_objetivo');
const pv_habilidades=document.getElementById('pv_habilidades');
const pv_projetos=document.getElementById('pv_projetos');
const pv_certificacoes=document.getElementById('pv_certificacoes');
const pv_contato=document.getElementById('pv_contato');

fotoInput.addEventListener('change',function(){
  const file=this.files[0]; if(!file) return;
  const reader=new FileReader();
  reader.onload=function(e){ pv_foto.style.backgroundImage=`url(${e.target.result})`; pv_foto.innerText=''; }
  reader.readAsDataURL(file);
});

modelo.addEventListener('change',()=>{
  if(modelo.value==='premium1' || modelo.value==='premium2'){
    premiumFields.style.display='block';
  } else premiumFields.style.display='none';
});

btnGerar.onclick=()=>{
  // aplicar valores
  pv_nome.textContent=nomeInput.value||"Seu Nome";
  pv_cargo.textContent=profissaoInput.value||"Profiss√£o";
  pv_objetivo.textContent=objetivoInput.value||"";
  pv_contato.innerHTML="";
  if(telefoneInput.value) pv_contato.innerHTML+="‚òé "+telefoneInput.value+"<br>";
  if(emailInput.value) pv_contato.innerHTML+="‚úâ "+emailInput.value+"<br>";
  if(enderecoInput.value) pv_contato.innerHTML+="üìç "+enderecoInput.value;

  // habilidades premium
  pv_habilidades.innerHTML="";
  if(modelo.value==='premium1' || modelo.value==='premium2'){
    habilidadesInput.value.split(',').forEach(h=>{
      const parts=h.split(':');
      const nome=parts[0].trim(); const val=parseInt(parts[1]||50);
      const div=document.createElement('div'); div.className='skill-bar';
      const span=document.createElement('span'); span.style.width=Math.min(val,100)+'%'; span.title=nome;
      div.appendChild(span); pv_habilidades.appendChild(div);
    });
    pv_projetos.innerHTML=projetosInput.value.split('\n').map(p=>`<div class="card">${p}</div>`).join('');
    pv_certificacoes.innerHTML=certificacoesInput.value.split('\n').map(c=>`<div class="card">${c}</div>`).join('');
  }

  // aplicar classe premium
  const previewWrapper=document.querySelector('.preview-wrapper');
  previewWrapper.classList.remove('premium1','premium2');
  if(modelo.value==='premium1') previewWrapper.classList.add('premium1');
  if(modelo.value==='premium2') previewWrapper.classList.add('premium2');

  previewModal.style.display='flex';
};

// PIX / desbloquear download
let paid=false;
watchAd.onclick=()=>{
  const confirmPay=confirm("Para acessar este modelo Premium, confirme pagamento via PIX R$4,99");
  if(confirmPay){ alert("Sucesso! PDF desbloqueado."); paid=true; downloadPdf.disabled=false; }
};
closePreview.onclick=()=>{ previewModal.style.display='none'; };

// gerar PDF
downloadPdf.onclick=async()=>{
  if((modelo.value==='premium1'||modelo.value==='premium2')&&!paid){ alert("Pague o PIX antes de baixar."); return; }
  const a4=document.getElementById('a4Sheet');
  const canvas=await html2canvas(a4,{scale:2,useCORS:true});
  const img=canvas.toDataURL("image/png");
  const pdf=new jspdf.jsPDF("p","pt","a4");
  const w=pdf.internal.pageSize.getWidth();
  const h=pdf.internal.pageSize.getHeight();
  pdf.addImage(img,"PNG",0,0,w,h);
  pdf.save((nomeInput.value||"curriculo")+".pdf");
};
})();
</script>
