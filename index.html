<!doctype html>
<html lang="pt-BR">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Gerador de CurrÃ­culo â€” Premium & Gratuito</title>

<style>
*{box-sizing:border-box;margin:0;padding:0;font-family:Inter,Arial,sans-serif}
body{background:linear-gradient(135deg,#eef2ff,#f0f9ff 60%,#fffaf0);padding:20px;display:flex;justify-content:center;}
.container{width:100%;max-width:920px;background:#fff;padding:28px;border-radius:14px;box-shadow:0 12px 40px rgba(2,6,23,0.08);}
.titulo-principal{font-size:26px;font-weight:800;text-align:center;background:linear-gradient(90deg,#4f46e5,#9333ea);-webkit-background-clip:text;color:transparent;}
.subtitulo{text-align:center;color:#6b7280;margin-bottom:16px;}

.section{background:#fbfdff;border:1px solid #eef2ff;padding:14px;border-radius:12px;margin-bottom:12px;}
.section-title{font-size:15px;font-weight:700;color:#1f2937;margin-bottom:10px;}
input,textarea,select{width:100%;padding:10px;border-radius:10px;border:1px solid #e6eef9;background:#fff;margin-bottom:10px;font-size:14px;}
textarea{resize:vertical;min-height:80px;}
.add-btn{display:inline-flex;align-items:center;gap:8px;background:linear-gradient(180deg,#eef2ff,#f7fbff);border:1px solid #dbeafe;color:#1e3a8a;padding:8px 10px;border-radius:8px;cursor:pointer;font-weight:600;}
.remove-btn{display:inline-block;background:#f87171;color:#fff;padding:2px 6px;border-radius:6px;font-size:12px;cursor:pointer;margin-left:6px;}
.btn-primary{background:linear-gradient(90deg,#4f46e5,#7c3aed);color:#fff;border:none;padding:12px 16px;border-radius:10px;cursor:pointer;font-weight:700;}
.btn-secondary{background:#eef2ff;border:1px solid #c7d2fe;color:#1e3a8a;padding:10px 14px;border-radius:10px;cursor:pointer;}

/* Modal Preview */
.preview-modal{display:none;position:fixed;inset:0;background:rgba(0,0,0,0.6);backdrop-filter:blur(4px);justify-content:center;align-items:flex-start;padding:20px;z-index:1200;overflow:auto;}
.preview-wrapper{position:relative;max-width:100%;width:820px;background:#fff;padding:16px;border-radius:12px;overflow:auto;}
.close-preview{position:absolute;top:10px;right:10px;font-size:32px;color:#333;background:transparent;border:none;cursor:pointer;}

/* CurrÃ­culo */
.a4-sheet{width:794px;height:1123px;background:#fff;border-radius:6px;display:flex;flex-direction:column;overflow:hidden;box-shadow:0 10px 40px rgba(2,6,23,0.15);}
.topbar{height:120px;background:linear-gradient(90deg,#365b90,#2a4770);position:relative;}
.sheet-inner{display:flex;flex:1;}
.left-col{width:240px;padding:22px;background:#fafbfd;border-right:1px solid #eef2ff;display:flex;flex-direction:column;gap:16px;}
.right-col{flex:1;padding:28px 36px;overflow:auto;}
.photo{width:120px;height:120px;border-radius:999px;background:#fff;border:4px solid rgba(255,255,255,0.2);display:flex;align-items:center;justify-content:center;font-weight:700;color:#334155;margin-bottom:4px;background-size:cover;background-position:center;}
.pv-block h4{font-size:13px;color:#0f172a;margin-bottom:8px;border-bottom:1px solid #e6eef9;padding-bottom:6px;}
.pv-block p{font-size:13px;color:#475569;line-height:1.45;}
#pv_nome{font-size:30px;font-weight:800;color:#0f172a;margin-bottom:6px;}
.pv-cargo{font-size:13px;color:#64748b;margin-bottom:12px;}
.pv-section{margin-top:12px;}
.pv-section h3{font-size:14px;color:#0f172a;border-bottom:1px solid #e6eef9;padding-bottom:6px;margin-bottom:8px;}
.pv-section p{font-size:14px;color:#334155;line-height:1.5;margin-bottom:6px;}
.pv-item{margin-bottom:10px;}
.preview-actions{display:flex;gap:12px;justify-content:flex-end;margin-top:12px;}
.preview-actions button{min-width:160px;}

/* Responsive */
@media(max-width:1000px){.preview-wrapper{width:95%;}}
@media(max-width:640px){body{padding:18px}.container{padding:18px}.preview-wrapper{width:100%;padding:10px;}}
</style>

<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
</head>

<body>
<div class="container">
<h1 class="titulo-principal">Gerador de CurrÃ­culo Profissional</h1>
<p class="subtitulo">Preencha os campos e clique em Gerar Meu CurrÃ­culo</p>

<section class="section">
  <div class="section-title">Modelo do CurrÃ­culo</div>
  <select id="modeloCurriculo">
    <option value="gratuito">Gratuito</option>
    <option value="premium1">Premium 1 - R$4,99</option>
    <option value="premium2">Premium 2 - R$4,99</option>
  </select>
</section>

<section class="section">
  <div class="section-title">DADOS PESSOAIS</div>
  <label>Nome</label><input id="nome">
  <label>Foto</label><input type="file" id="foto" accept="image/*">
  <label>ProfissÃ£o</label><input id="profissao">
  <label>E-mail</label><input id="email">
  <label>Telefone</label><input id="telefone">
  <label>EndereÃ§o</label><input id="endereco">
</section>

<section class="section">
  <div class="section-title">OBJETIVO / RESUMO</div>
  <textarea id="objetivo"></textarea>
</section>

<section class="section">
  <div class="section-title">FORMAÃ‡ÃƒO ACADÃŠMICA</div>
  <div id="formacoesList">
    <div class="repeat">
      <input class="formacao-curso" placeholder="Curso">
      <input class="formacao-instituicao" placeholder="InstituiÃ§Ã£o">
      <input class="formacao-ano" placeholder="Ano">
      <span class="remove-btn" onclick="this.parentElement.remove()">Remover</span>
    </div>
  </div>
  <div class="add-btn" id="addFormacao">+ Adicionar outro curso</div>
</section>

<section class="section">
  <div class="section-title">EXPERIÃŠNCIA PROFISSIONAL</div>
  <div id="experienciasList">
    <div class="repeat">
      <input class="exp-empresa" placeholder="Empresa">
      <input class="exp-cargo" placeholder="Cargo">
      <textarea class="exp-desc" placeholder="DescriÃ§Ã£o"></textarea>
      <span class="remove-btn" onclick="this.parentElement.remove()">Remover</span>
    </div>
  </div>
  <div class="add-btn" id="addExperiencia">+ Adicionar outra experiÃªncia</div>
</section>

<section class="section">
  <div class="section-title">CURSOS / CERTIFICAÃ‡Ã•ES</div>
  <div id="cursosList">
    <div class="repeat">
      <input class="curso-nome" placeholder="Curso">
      <input class="curso-instituicao" placeholder="InstituiÃ§Ã£o">
      <input class="curso-ano" placeholder="Ano">
      <span class="remove-btn" onclick="this.parentElement.remove()">Remover</span>
    </div>
  </div>
  <div class="add-btn" id="addCurso">+ Adicionar outro curso</div>
</section>

<section class="section">
  <div class="section-title">HABILIDADES / IDIOMAS</div>
  <textarea id="habilidades"></textarea>
</section>

<!-- SeÃ§Ã£o Premium -->
<section class="section" id="premiumSection" style="display:none;">
  <div class="section-title">PROJETOS / PORTFÃ“LIO (Premium)</div>
  <div id="projetosList"></div>
  <div class="add-btn" id="addProjeto">+ Adicionar projeto</div>

  <div class="section-title">REFERÃŠNCIAS / LINKS (Premium)</div>
  <div id="linksList"></div>
  <div class="add-btn" id="addLink">+ Adicionar referÃªncia/link</div>
</section>

<button id="btnGerar" class="btn-primary">Gerar Meu CurrÃ­culo</button>
</div>

<!-- PREVIEW -->
<div id="previewModal" class="preview-modal">
<div class="preview-wrapper">
<button id="closePreview" class="close-preview">âœ•</button>
<div class="a4-sheet" id="a4Sheet">
  <div class="topbar"></div>
  <div class="sheet-inner">
    <aside class="left-col">
      <div class="photo" id="pv_foto">FOTO</div>
      <div class="pv-block"><h4>CONTATO</h4><p id="pv_contato"></p></div>
      <div class="pv-block"><h4>IDIOMAS</h4><p id="pv_idiomas"></p></div>
      <div class="pv-block"><h4>HABILIDADES</h4><p id="pv_habilidades"></p></div>
    </aside>
    <main class="right-col">
      <h1 id="pv_nome">Nome Completo</h1>
      <div id="pv_cargo" class="pv-cargo"></div>
      <section class="pv-section">
        <h3>PERFIL PROFISSIONAL</h3>
        <p id="pv_objetivo"></p>
      </section>
      <section class="pv-section">
        <h3>EXPERIÃŠNCIA PROFISSIONAL</h3>
        <div id="pv_experiencias"></div>
      </section>
      <section class="pv-section">
        <h3>FORMAÃ‡ÃƒO ACADÃŠMICA</h3>
        <div id="pv_formacoes"></div>
      </section>
      <section class="pv-section">
        <h3>CURSOS / CERTIFICAÃ‡Ã•ES</h3>
        <div id="pv_cursos"></div>
      </section>
      <section class="pv-section" id="pvProjetosSection" style="display:none;">
        <h3>PROJETOS / PORTFÃ“LIO</h3>
        <div id="pv_projetos"></div>
      </section>
      <section class="pv-section" id="pvLinksSection" style="display:none;">
        <h3>REFERÃŠNCIAS / LINKS</h3>
        <div id="pv_links"></div>
      </section>
    </main>
  </div>
</div>
<div class="preview-actions">
  <button id="watchAd" class="btn-secondary">Pagar / Assistir anÃºncio</button>
  <button id="downloadPdf" class="btn-primary" disabled>Baixar PDF</button>
</div>
</div>
</div>

<!-- PDF sheet invisÃ­vel -->
<div id="pdfSheet" style="width:794px;height:1123px;background:#fff;position:absolute;left:-9999px;top:-9999px;">
  <div id="pdfContent"></div>
</div>

<script>
(function(){
  const nomeInput = document.getElementById('nome');
  const profissaoInput = document.getElementById('profissao');
  const emailInput = document.getElementById('email');
  const telefoneInput = document.getElementById('telefone');
  const enderecoInput = document.getElementById('endereco');
  const objetivoInput = document.getElementById('objetivo');
  const habilidadesInput = document.getElementById('habilidades');
  const fotoInput = document.getElementById('foto');
  const modeloSelect = document.getElementById('modeloCurriculo');

  const premiumSection = document.getElementById('premiumSection');
  const previewModal = document.getElementById('previewModal');
  const closePreview = document.getElementById('closePreview');
  const btnGerar = document.getElementById('btnGerar');
  const downloadPdf = document.getElementById('downloadPdf');
  const watchAd = document.getElementById('watchAd');

  const pv_nome = document.getElementById('pv_nome');
  const pv_cargo = document.getElementById('pv_cargo');
  const pv_objetivo = document.getElementById('pv_objetivo');
  const pv_habilidades = document.getElementById('pv_habilidades');
  const pv_contato = document.getElementById('pv_contato');
  const pv_foto = document.getElementById('pv_foto');
  const pv_formacoes = document.getElementById('pv_formacoes');
  const pv_experiencias = document.getElementById('pv_experiencias');
  const pv_cursos = document.getElementById('pv_cursos');
  const pv_projetos = document.getElementById('pv_projetos');
  const pv_links = document.getElementById('pv_links');
  const pvProjetosSection = document.getElementById('pvProjetosSection');
  const pvLinksSection = document.getElementById('pvLinksSection');

  const formacoesList = document.getElementById('formacoesList');
  const experienciasList = document.getElementById('experienciasList');
  const cursosList = document.getElementById('cursosList');

  const projetosList = document.getElementById('projetosList');
  const linksList = document.getElementById('linksList');

  let adWatched = false;

  // adicionar blocos
  document.getElementById('addFormacao').onclick = ()=>{const box=document.createElement('div');box.className='repeat';box.innerHTML='<input class="formacao-curso" placeholder="Curso"><input class="formacao-instituicao" placeholder="InstituiÃ§Ã£o"><input class="formacao-ano" placeholder="Ano"><span class="remove-btn" onclick="this.parentElement.remove()">Remover</span>';formacoesList.appendChild(box)};
  document.getElementById('addExperiencia').onclick = ()=>{const box=document.createElement('div');box.className='repeat';box.innerHTML='<input class="exp-empresa" placeholder="Empresa"><input class="exp-cargo" placeholder="Cargo"><textarea class="exp-desc" placeholder="DescriÃ§Ã£o"></textarea><span class="remove-btn" onclick="this.parentElement.remove()">Remover</span>';experienciasList.appendChild(box)};
  document.getElementById('addCurso').onclick = ()=>{const box=document.createElement('div');box.className='repeat';box.innerHTML='<input class="curso-nome" placeholder="Curso"><input class="curso-instituicao" placeholder="InstituiÃ§Ã£o"><input class="curso-ano" placeholder="Ano"><span class="remove-btn" onclick="this.parentElement.remove()">Remover</span>';cursosList.appendChild(box)};
  document.getElementById('addProjeto').onclick = ()=>{const box=document.createElement('div');box.className='repeat';box.innerHTML='<input class="projeto-nome" placeholder="Nome do projeto"><textarea class="projeto-desc" placeholder="DescriÃ§Ã£o"></textarea><span class="remove-btn" onclick="this.parentElement.remove()">Remover</span>';projetosList.appendChild(box)};
  document.getElementById('addLink').onclick = ()=>{const box=document.createElement('div');box.className='repeat';box.innerHTML='<input class="link-nome" placeholder="DescriÃ§Ã£o/Link"><span class="remove-btn" onclick="this.parentElement.remove()">Remover</span>';linksList.appendChild(box)};

  // Foto preview
  fotoInput.addEventListener("change", function(){
    const file = this.files[0];
    if(!file) return;
    const reader = new FileReader();
    reader.onload = e=>{
      pv_foto.style.backgroundImage = `url(${e.target.result})`;
      pv_foto.innerText="";
    };
    reader.readAsDataURL(file);
  });

  modeloSelect.onchange = ()=>{
    if(modeloSelect.value.startsWith('premium')){
      premiumSection.style.display='block';
    } else {premiumSection.style.display='none'}
    downloadPdf.disabled=false;
  };

  closePreview.onclick = ()=>{previewModal.style.display='none'};

  watchAd.onclick = ()=>{
    if(modeloSelect.value==='gratuito'){downloadPdf.disabled=false;return;}
    alert("Para usar este modelo premium, faÃ§a o pagamento R$4,99 via PIX ou assista ao anÃºncio.");
    setTimeout(()=>{adWatched=true;downloadPdf.disabled=false},1000);
  };

  btnGerar.onclick = ()=>{
    // Aplicar valores
    pv_nome.innerText = nomeInput.value || "Seu Nome";
    pv_cargo.innerText = profissaoInput.value || "ProfissÃ£o";
    pv_objetivo.innerText = objetivoInput.value || "";
    pv_habilidades.innerText = habilidadesInput.value || "";

    let contato="";
    if(telefoneInput.value) contato += "â˜Ž "+telefoneInput.value+"<br>";
    if(emailInput.value) contato += "âœ‰ "+emailInput.value+"<br>";
    if(enderecoInput.value) contato += "ðŸ“ "+enderecoInput.value;
    pv_contato.innerHTML = contato
    // FormaÃ§Ãµes
    pv_formacoes.innerHTML='';
    document.querySelectorAll('#formacoesList .repeat').forEach(f=>{
      const curso=f.querySelector('.formacao-curso').value;
      const inst=f.querySelector('.formacao-instituicao').value;
      const ano=f.querySelector('.formacao-ano').value;
      if(curso||inst||ano){
        const div=document.createElement('div');div.className='pv-item';
        div.innerHTML=`<strong>${curso}</strong><div style="font-size:13px;color:#475569">${inst} ${ano?("â€¢ "+ano):""}</div>`;
        pv_formacoes.appendChild(div);
      }
    });

    // ExperiÃªncias
    pv_experiencias.innerHTML='';
    document.querySelectorAll('#experienciasList .repeat').forEach(exp=>{
      const emp=exp.querySelector('.exp-empresa').value;
      const cargo=exp.querySelector('.exp-cargo').value;
      const desc=exp.querySelector('.exp-desc').value;
      if(emp||cargo||desc){
        const div=document.createElement('div');div.className='pv-item';
        div.innerHTML=`<strong>${cargo} â€” ${emp}</strong><div style="font-size:13px;color:#475569;margin-top:6px">${desc.replace(/\n/g,'<br>')}</div>`;
        pv_experiencias.appendChild(div);
      }
    });

    // Cursos / CertificaÃ§Ãµes
    pv_cursos.innerHTML='';
    document.querySelectorAll('#cursosList .repeat').forEach(c=>{
      const nome=c.querySelector('.curso-nome').value;
      const inst=c.querySelector('.curso-instituicao').value;
      const ano=c.querySelector('.curso-ano').value;
      if(nome||inst||ano){
        const div=document.createElement('div');div.className='pv-item';
        div.innerHTML=`<strong>${nome}</strong><div style="font-size:13px;color:#475569">${inst} ${ano?("â€¢ "+ano):""}</div>`;
        pv_cursos.appendChild(div);
      }
    });

    // Premium Projetos
    pv_projetos.innerHTML='';
    const projetos = document.querySelectorAll('#projetosList .repeat');
    if(projetos.length>0){
      pvProjetosSection.style.display='block';
      projetos.forEach(p=>{
        const nome=p.querySelector('.projeto-nome').value;
        const desc=p.querySelector('.projeto-desc').value;
        if(nome||desc){
          const div=document.createElement('div');div.className='pv-item';
          div.innerHTML=`<strong>${nome}</strong><div style="font-size:13px;color:#475569">${desc.replace(/\n/g,'<br>')}</div>`;
          pv_projetos.appendChild(div);
        }
      });
    } else {pvProjetosSection.style.display='none';}

    // Premium Links / ReferÃªncias
    pv_links.innerHTML='';
    const links = document.querySelectorAll('#linksList .repeat');
    if(links.length>0){
      pvLinksSection.style.display='block';
      links.forEach(l=>{
        const txt=l.querySelector('.link-nome').value;
        if(txt){
          const div=document.createElement('div');div.className='pv-item';
          div.innerHTML=`<a href="${txt}" target="_blank">${txt}</a>`;
          pv_links.appendChild(div);
        }
      });
    } else {pvLinksSection.style.display='none';}

    // Idiomas (padrÃ£o)
    pv_idiomas.innerText="PortuguÃªs â€” Nativo";

    previewModal.style.display='flex';
  };

  // PDF download
  downloadPdf.onclick = async ()=>{
    if(!adWatched && modeloSelect.value!=='gratuito') return alert("Complete pagamento ou assista anÃºncio!");
    const pdfSheet=document.getElementById('pdfSheet');
    const pdfContent=document.getElementById('pdfContent');
    const a4=document.getElementById('a4Sheet');

    pdfContent.innerHTML=a4.outerHTML;
    const canvas = await html2canvas(pdfSheet,{scale:2,useCORS:true});
    const img=canvas.toDataURL("image/png");
    const pdf=new jspdf.jsPDF("p","pt","a4");
    const w=pdf.internal.pageSize.getWidth();
    const h=pdf.internal.pageSize.getHeight();
    pdf.addImage(img,"PNG",0,0,w,h);
    pdf.save((nomeInput.value||"curriculo")+".pdf");
  };

})();
</script>
</body>
</html>
