<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Gerador de CurrÃ­culo â€” Modelo Premium</title>

  <style>
    *{box-sizing:border-box;margin:0;padding:0;font-family:Inter,Arial,Helvetica,sans-serif}
    body{background:linear-gradient(135deg,#eef2ff,#f0f9ff 60%,#fffaf0);padding:28px;display:flex;justify-content:center}
    .container{width:100%;max-width:920px;background:#fff;padding:26px;border-radius:14px;box-shadow:0 12px 40px rgba(2,6,23,0.08)}
    .titulo-principal{font-size:26px;font-weight:800;text-align:center;background:linear-gradient(90deg,#4f46e5,#9333ea);-webkit-background-clip:text;color:transparent}
    .subtitulo{text-align:center;color:#6b7280;margin-bottom:16px}
    .section{background:#fbfdff;border:1px solid #eef2ff;padding:14px;border-radius:12px;margin-bottom:12px}
    .section-title{font-size:15px;font-weight:700;color:#1f2937;margin-bottom:10px}
    input,textarea,select{width:100%;padding:10px;border-radius:10px;border:1px solid #e6eef9;background:#fff;margin-bottom:10px;font-size:14px}
    textarea{resize:vertical;min-height:80px}
    .add-btn{display:inline-flex;align-items:center;gap:8px;background:linear-gradient(180deg,#eef2ff,#f7fbff);border:1px solid #dbeafe;color:#1e3a8a;padding:8px 10px;border-radius:8px;cursor:pointer;font-weight:600}
    .btn-primary{background:linear-gradient(90deg,#4f46e5,#7c3aed);color:#fff;border:none;padding:12px 16px;border-radius:10px;cursor:pointer;font-weight:700}
    .btn-secondary{background:#eef2ff;border:1px solid #c7d2fe;color:#1e3a8a;padding:10px 14px;border-radius:10px;cursor:pointer}
    .preview-modal{display:none;position:fixed;inset:0;background:rgba(0,0,0,0.6);backdrop-filter:blur(4px);justify-content:center;align-items:flex-start;padding:28px;z-index:1200}
    .preview-wrapper{position:relative;transform:scale(0.62);transform-origin:top center}
    .close-preview{position:absolute;top:-56px;right:0;font-size:42px;color:#fff;background:transparent;border:none;cursor:pointer}
    .a4-sheet{width:794px;height:1123px;background:#fff;border-radius:6px;display:flex;flex-direction:column;overflow:hidden;box-shadow:0 10px 40px rgba(2,6,23,0.15)}
    .topbar{height:120px;background:linear-gradient(90deg,#365b90,#2a4770);position:relative}
    .sheet-inner{display:flex;flex:1}
    .left-col{width:240px;padding:22px;background:#fafbfd;border-right:1px solid #eef2ff;display:flex;flex-direction:column;gap:16px}
    .right-col{flex:1;padding:28px 36px;overflow:auto}
    .photo{width:120px;height:120px;border-radius:999px;background-color:#fff;border:4px solid rgba(255,255,255,0.2);display:flex;align-items:center;justify-content:center;font-weight:700;color:#334155;margin-bottom:4px;background-size:cover;background-position:center;background-repeat:no-repeat}
    .pv-block h4{font-size:13px;color:#0f172a;margin-bottom:8px;border-bottom:1px solid #e6eef9;padding-bottom:6px}
    .pv-block p{font-size:13px;color:#475569;line-height:1.45}
    #pv_nome{font-size:30px;font-weight:800;color:#0f172a;margin-bottom:6px}
    .pv-cargo{font-size:13px;color:#64748b;margin-bottom:12px}
    .pv-section{margin-top:12px}
    .pv-section h3{font-size:14px;color:#0f172a;border-bottom:1px solid #e6eef9;padding-bottom:6px;margin-bottom:8px}
    .pv-section p{font-size:14px;color:#334155;line-height:1.5;margin-bottom:6px}
    .pv-item{margin-bottom:10px}
    .preview-actions{display:flex;gap:12px;justify-content:flex-end;margin-top:12px}
    .preview-actions button{min-width:160px}
    .ad-modal{display:none;position:fixed;inset:0;background:rgba(0,0,0,0.6);backdrop-filter:blur(3px);justify-content:center;align-items:center;z-index:1300}
    .ad-card{width:880px;max-width:96%;background:#fff;padding:18px;border-radius:10px;box-shadow:0 10px 40px rgba(2,6,23,0.15);position:relative}
    .close-ad{position:absolute;top:12px;right:12px;background:#ef4444;color:#fff;border:none;padding:6px 10px;border-radius:8px;cursor:pointer}
  </style>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
</head>

<body>
  <div class="container">
    <h1 class="titulo-principal">Gerador de CurrÃ­culo Profissional</h1>
    <p class="subtitulo">Preencha os campos e clique em Gerar Meu CurrÃ­culo</p>

    <section class="section">
      <div class="section-title">DADOS PESSOAIS</div>
      <label>Nome</label><input id="nome">
      <label>Foto</label><input type="file" id="foto" accept="image/*">
      <label>ProfissÃ£o</label><input id="profissao">
      <label>E-mail</label><input id="email">
      <label>Telefone</label><input id="telefone">
      <label>EndereÃ§o</label><input id="endereco">
      <label>Modelo de CurrÃ­culo</label>
      <select id="modelo">
        <option value="basico">BÃ¡sico</option>
        <option value="premium">Premium â€” R$4,99</option>
      </select>
    </section>

    <section class="section">
      <div class="section-title">OBJETIVO / RESUMO</div>
      <textarea id="objetivo"></textarea>
    </section>

    <section class="section">
      <div class="section-title">FORMAÃ‡ÃƒO ACADÃŠMICA</div>
      <div id="formacoesList">
        <div class="repeat"><input class="formacao-curso"><input class="formacao-instituicao"><input class="formacao-ano"></div>
      </div>
      <div class="add-btn" id="addFormacao">+ Adicionar outro curso</div>
    </section>

    <section class="section">
      <div class="section-title">EXPERIÃŠNCIA</div>
      <div id="experienciasList">
        <div class="repeat"><input class="exp-empresa"><input class="exp-cargo"><textarea class="exp-desc"></textarea></div>
      </div>
      <div class="add-btn" id="addExperiencia">+ Adicionar outra experiÃªncia</div>
    </section>

    <section class="section">
      <div class="section-title">HABILIDADES / IDIOMAS</div>
      <textarea id="habilidades"></textarea>
    </section>

    <div id="pixContainer" style="display:none;margin-bottom:16px;">
      <p>Para desbloquear o modelo Premium, pague via PIX:</p>
      <img src="https://api.qrserver.com/v1/create-qr-code/?size=150x150&data=00020101021126580014br.gov.bcb.pix0114SEUCHAVEPIX52040000530398654024.99" alt="QR Code PIX">
      <button id="verificarPagamento" class="btn-primary">Verificar pagamento</button>
    </div>

    <button id="btnGerar" class="btn-primary">Gerar Meu CurrÃ­culo</button>
  </div>

  <div id="previewModal" class="preview-modal">
    <div class="preview-wrapper">
      <button id="closePreview" class="close-preview">âœ•</button>
      <div class="a4-sheet" id="a4Sheet">
        <div class="topbar"></div>
        <div class="sheet-inner">
          <aside class="left-col">
            <div class="photo" id="pv_foto">FOTO</div>
            <div class="pv-block"><h4>CONTATO</h4><p id="pv_contato"></p></div>
            <div class="pv-block"><h4>IDIOMAS</h4><p id="pv_idiomas"></p></div>
            <div class="pv-block"><h4>HABILIDADES</h4><p id="pv_habilidades"></p></div>
            <div class="pv-block"><h4>INTERESSES</h4><p id="pv_interesses">Tecnologia â€¢ Leitura â€¢ Esportes</p></div>
          </aside>
          <main class="right-col">
            <h1 id="pv_nome">Nome Completo</h1>
            <div id="pv_cargo" class="pv-cargo"></div>
            <section class="pv-section"><h3>PERFIL PROFISSIONAL</h3><p id="pv_objetivo"></p></section>
            <section class="pv-section"><h3>EXPERIÃŠNCIA PROFISSIONAL</h3><div id="pv_experiencias"></div></section>
            <section class="pv-section"><h3>FORMAÃ‡ÃƒO ACADÃŠMICA</h3><div id="pv_formacoes"></div></section>
          </main>
        </div>
      </div>
      <div class="preview-actions">
        <button id="downloadPdf" class="btn-primary">Baixar PDF</button>
      </div>
    </div>
  </div>

  <script>
  (function(){
    const nomeInput = document.getElementById('nome');
    const profissaoInput = document.getElementById('profissao');
    const emailInput = document.getElementById('email');
    const telefoneInput = document.getElementById('telefone');
    const enderecoInput = document.getElementById('endereco');
    const objetivoInput = document.getElementById('objetivo');
    const habilidadesInput = document.getElementById('habilidades');
    const fotoInput = document.getElementById('foto');
    const modeloSelect = document.getElementById('modelo');
    const pixContainer = document.getElementById('pixContainer');
    const verificarPagamento = document.getElementById('verificarPagamento');
    const btnGerar = document.getElementById('btnGerar');

    const previewModal = document.getElementById('previewModal');
    const closePreview = document.getElementById('closePreview');
    const pv_nome = document.getElementById('pv_nome');
    const pv_cargo = document.getElementById('pv_cargo');
    const pv_contato = document.getElementById('pv_contato');
    const pv_objetivo = document.getElementById('pv_objetivo');
    const pv_habilidades = document.getElementById('pv_habilidades');
    const pv_idiomas = document.getElementById('pv_idiomas');
    const pv_foto = document.getElementById('pv_foto');
    const pv_formacoes = document.getElementById('pv_formacoes');
    const pv_experiencias = document.getElementById('pv_experiencias');

    let pagamentoConfirmado = false;

    document.getElementById('addFormacao').onclick = () => {
      const box = document.createElement('div');
      box.className='repeat';
      box.innerHTML='<input class="formacao-curso"><input class="formacao-instituicao"><input class="formacao-ano">';
      document.getElementById('formacoesList').appendChild(box);
    };

    document.getElementById('addExperiencia').onclick = () => {
      const box = document.createElement('div');
      box.className='repeat';
      box.innerHTML='<input class="exp-empresa"><input class="exp-cargo"><textarea class="exp-desc"></textarea>';
      document.getElementById('experienciasList').appendChild(box);
    };

    fotoInput.addEventListener("change", function () {
      const file = this.files[0];
      if(!file) return;
      const reader = new FileReader();
      reader.onload = e => {
        pv_foto.style.backgroundImage = `url(${e.target.result})`;
        pv_foto.innerText = "";
      };
      reader.readAsDataURL(file);
    });

    btnGerar.onclick = () => {
      const modelo = modeloSelect.value;
      if(modelo === "premium" && !pagamentoConfirmado){
        pixContainer.style.display="block";
        alert("Para usar o modelo Premium, realize o pagamento via PIX.");
        return;
      }

      pv_nome.textContent = nomeInput.value || "Seu Nome";
      pv_cargo.textContent = profissaoInput.value;
      pv_objetivo.textContent = objetivoInput.value;
      pv_habilidades.textContent = habilidadesInput.value;

      let contato="";
      if(telefoneInput.value) contato+="â˜Ž "+telefoneInput.value+"<br>";
      if(emailInput.value) contato+="âœ‰ "+emailInput.value+"<br>";
      if(enderecoInput.value) contato+="ðŸ“ "+enderecoInput.value;
      pv_contato.innerHTML=contato;
      pv_idiomas.innerText="PortuguÃªs â€” Nativo";

      pv_formacoes.innerHTML='';
      document.querySelectorAll('#formacoesList .repeat').forEach(f=>{
        const curso=f.querySelector('.formacao-curso').value;
        const inst=f.querySelector('.formacao-instituicao').value;
        const ano=f.querySelector('.formacao-ano').value;
        if(curso||inst||ano){
          const div=document.createElement('div');
          div.className='pv-item';
          div.innerHTML=`<strong>${curso}</strong><div style="font-size:13px;color:#475569">${inst}${ano?(" â€¢ "+ano):""}</div>`;
          pv_formacoes.appendChild(div);
        }
      });

      pv_experiencias.innerHTML='';
      document.querySelectorAll('#experienciasList .repeat').forEach(exp=>{
        const emp=exp.querySelector('.exp-empresa').value;
        const cargo=exp.querySelector('.exp-cargo').value;
        const desc=exp.querySelector('.exp-desc').value;
        if(emp||cargo||desc){
          const div=document.createElement('div');
          div.className='pv-item';
          div.innerHTML=`<strong>${cargo} â€” ${emp}</strong><div style="font-size:13px;color:#475569;margin-top:6px">${desc.replace(/\n/g,'<br>')}</div>`;
          pv_experiencias.appendChild(div);
        }
      });

      previewModal.style.display='flex';
    };

    closePreview.onclick = ()=> previewModal.style.display='none';

    verificarPagamento.onclick = ()=>{
      // SimulaÃ§Ã£o de pagamento
      pagamentoConfirmado = true;
      pixContainer.style.display="none";
      alert("Pagamento confirmado! Agora vocÃª pode gerar o modelo Premium.");
    };

    document.getElementById('downloadPdf').onclick = async ()=>{
      const a4 = document.getElementById('a4Sheet');
      const canvas = await html2canvas(a4,{scale:2,useCORS:true});
      const img = canvas.toDataURL("image/png");
      const pdf = new jspdf.jsPDF("p","pt","a4");
      const w = pdf.internal.pageSize.getWidth();
      const h = pdf.internal.pageSize.getHeight();
      pdf.addImage(img,"PNG",0,0,w,h);
      pdf.save((nomeInput.value||"curriculo")+".pdf");
    };

  })();
  </script>
</body>
</html>
