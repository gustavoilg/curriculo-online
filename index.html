<!doctype html>
<html lang="pt-BR">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Gerador de Curr√≠culo ‚Äî B√°sico / Premium</title>

<style>
/* RESET & BASE */
*{box-sizing:border-box;margin:0;padding:0;font-family:Inter,Arial,sans-serif}
body{background:linear-gradient(135deg,#eef2ff,#f0f9ff 60%,#fffaf0);padding:20px;display:flex;justify-content:center}
.container{width:100%;max-width:920px;background:#fff;padding:26px;border-radius:14px;box-shadow:0 12px 40px rgba(2,6,23,0.08)}
.titulo-principal{font-size:26px;font-weight:800;text-align:center;background:linear-gradient(90deg,#4f46e5,#9333ea);-webkit-background-clip:text;color:transparent}
.subtitulo{text-align:center;color:#6b7280;margin-bottom:16px}

/* SECTIONS */
.section{background:#fbfdff;border:1px solid #eef2ff;padding:14px;border-radius:12px;margin-bottom:12px}
.section-title{font-size:15px;font-weight:700;color:#1f2937;margin-bottom:10px}
input,textarea,select{width:100%;padding:10px;border-radius:10px;border:1px solid #e6eef9;background:#fff;margin-bottom:10px;font-size:14px}
textarea{resize:vertical;min-height:80px}

/* BUTTONS */
.add-btn{display:inline-flex;align-items:center;gap:8px;background:linear-gradient(180deg,#eef2ff,#f7fbff);border:1px solid #dbeafe;color:#1e3a8a;padding:8px 10px;border-radius:8px;cursor:pointer;font-weight:600}
.btn-primary{background:linear-gradient(90deg,#4f46e5,#7c3aed);color:#fff;border:none;padding:12px 16px;border-radius:10px;cursor:pointer;font-weight:700}
.btn-secondary{background:#eef2ff;border:1px solid #c7d2fe;color:#1e3a8a;padding:10px 14px;border-radius:10px;cursor:pointer}

/* PREVIEW MODAL */
.preview-modal{display:none;position:fixed;inset:0;background:rgba(0,0,0,0.6);backdrop-filter:blur(4px);justify-content:center;align-items:flex-start;padding:28px;z-index:1200;overflow:auto}
.preview-wrapper{position:relative;transform:scale(0.6);transform-origin:top center}
.close-preview{position:absolute;top:-56px;right:0;font-size:42px;color:#fff;background:transparent;border:none;cursor:pointer}

/* A4 SHEET BASIC / PREMIUM */
.a4-sheet{width:794px;height:1123px;background:#fff;border-radius:6px;display:flex;flex-direction:column;overflow:hidden;box-shadow:0 10px 40px rgba(2,6,23,0.15)}
.topbar{height:120px;background:linear-gradient(90deg,#365b90,#2a4770);position:relative}
.sheet-inner{display:flex;flex:1;overflow:auto}
.left-col{width:240px;padding:22px;background:#fafbfd;border-right:1px solid #eef2ff;display:flex;flex-direction:column;gap:16px}
.right-col{flex:1;padding:28px 36px;overflow:auto}

/* FOTO */
.photo{width:140px;height:140px;border-radius:999px;background:#fff;border:4px solid rgba(255,255,255,0.2);display:flex;align-items:center;justify-content:center;font-weight:700;color:#334155;margin-bottom:4px;background-size:cover;background-position:center;background-repeat:no-repeat}

/* PV BLOCKS */
.pv-block h4{font-size:13px;color:#0f172a;margin-bottom:8px;border-bottom:1px solid #e6eef9;padding-bottom:6px}
.pv-block p{font-size:13px;color:#475569;line-height:1.45}

/* HEADER RIGHT COL */
#pv_nome{font-size:30px;font-weight:800;color:#0f172a;margin-bottom:6px}
.pv-cargo{font-size:13px;color:#64748b;margin-bottom:12px}

/* SECTIONS RIGHT COL */
.pv-section{margin-top:12px}
.pv-section h3{font-size:14px;color:#0f172a;border-bottom:1px solid #e6eef9;padding-bottom:6px;margin-bottom:8px}
.pv-section p{font-size:14px;color:#334155;line-height:1.5;margin-bottom:6px}
.pv-item{margin-bottom:10px}
.skill-bar{height:6px;background:#e2e8f0;border-radius:3px;margin-bottom:6px}
.skill-fill{height:100%;background:#4f46e5;border-radius:3px}

/* PREVIEW ACTIONS */
.preview-actions{display:flex;gap:12px;justify-content:flex-end;margin-top:12px}
.preview-actions button{min-width:160px}

/* responsive */
@media(max-width:1000px){.preview-wrapper{transform:scale(0.45)}}
@media(max-width:640px){body{padding:18px}.container{padding:18px}}
</style>

<!-- libs -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

</head>
<body>

<div class="container">
<h1 class="titulo-principal">Gerador de Curr√≠culo Profissional</h1>
<p class="subtitulo">Preencha os campos e escolha o modelo (B√°sico √© gr√°tis, Premium R$4,99)</p>

<section class="section">
  <div class="section-title">DADOS PESSOAIS</div>
  <label>Nome</label><input id="nome">
  <label>Foto para o curr√≠culo</label><input type="file" id="foto" accept="image/*">
  <label>Profiss√£o</label><input id="profissao">
  <label>E-mail</label><input id="email">
  <label>Telefone</label><input id="telefone">
  <label>Endere√ßo</label><input id="endereco">
</section>

<section class="section">
  <div class="section-title">OBJETIVO / RESUMO</div>
  <textarea id="objetivo"></textarea>
</section>

<section class="section">
  <div class="section-title">FORMA√á√ÉO ACAD√äMICA</div>
  <div id="formacoesList">
    <div class="repeat">
      <input class="formacao-curso" placeholder="Curso">
      <input class="formacao-instituicao" placeholder="Institui√ß√£o">
      <input class="formacao-ano" placeholder="Ano">
    </div>
  </div>
  <div class="add-btn" id="addFormacao">+ Adicionar outro curso</div>
</section>

<section class="section">
  <div class="section-title">EXPERI√äNCIA</div>
  <div id="experienciasList">
    <div class="repeat">
      <input class="exp-empresa" placeholder="Empresa">
      <input class="exp-cargo" placeholder="Cargo">
      <textarea class="exp-desc" placeholder="Descri√ß√£o"></textarea>
    </div>
  </div>
  <div class="add-btn" id="addExperiencia">+ Adicionar outra experi√™ncia</div>
</section>

<section class="section">
  <div class="section-title">HABILIDADES / IDIOMAS</div>
  <textarea id="habilidades" placeholder="Ex.: Portugu√™s, Ingl√™s ‚Äì Avan√ßado, Excel, Photoshop"></textarea>
</section>

<section class="section">
  <div class="section-title">MODELO</div>
  <select id="modelo">
    <option value="basico">B√°sico (Gr√°tis)</option>
    <option value="premium">Premium (R$4,99)</option>
  </select>
</section>

<button id="btnGerar" class="btn-primary">Gerar Meu Curr√≠culo</button>
</div>

<!-- PREVIEW -->
<div id="previewModal" class="preview-modal">
  <div class="preview-wrapper">
    <button id="closePreview" class="close-preview">‚úï</button>

    <div class="a4-sheet" id="a4Sheet">
      <div class="topbar"></div>
      <div class="sheet-inner">
        <aside class="left-col">
          <div class="photo" id="pv_foto">FOTO</div>

          <div class="pv-block">
            <h4>CONTATO</h4>
            <p id="pv_contato"></p>
          </div>

          <div class="pv-block">
            <h4>IDIOMAS</h4>
            <p id="pv_idiomas"></p>
          </div>

          <div class="pv-block">
            <h4>HABILIDADES</h4>
            <div id="pv_habilidades"></div>
          </div>

          <div class="pv-block" id="pv_certificacoes_block" style="display:none">
            <h4>CERTIFICA√á√ïES</h4>
            <div id="pv_certificacoes"></div>
          </div>

          <div class="pv-block">
            <h4>INTERESSES</h4>
            <p id="pv_interesses">Tecnologia ‚Ä¢ Leitura ‚Ä¢ Esportes</p>
          </div>
        </aside>

        <main class="right-col">
          <h1 id="pv_nome">Nome Completo</h1>
          <div id="pv_cargo" class="pv-cargo"></div>

          <section class="pv-section">
            <h3>PERFIL PROFISSIONAL</h3>
            <p id="pv_objetivo"></p>
          </section>

          <section class="pv-section">
            <h3>EXPERI√äNCIA PROFISSIONAL</h3>
            <div id="pv_experiencias"></div>
          </section>

          <section class="pv-section">
            <h3>FORMA√á√ÉO ACAD√äMICA</h3>
            <div id="pv_formacoes"></div>
          </section>

          <section class="pv-section" id="pv_projetos_section" style="display:none">
            <h3>PROJETOS</h3>
            <div id="pv_projetos"></div>
          </section>
        </main>
      </div>
    </div>

    <div class="preview-actions">
      <button id="btnPix" class="btn-secondary" style="display:none">Pagar R$4,99 via Pix</button>
      <button id="downloadPdf" class="btn-primary" disabled>Baixar PDF</button>
    </div>
  </div>
</div>

<script>
(function(){
  // REFER√äNCIAS INPUTS
  const nomeInput = document.getElementById('nome');
  const profissaoInput = document.getElementById('profissao');
  const emailInput = document.getElementById('email');
  const telefoneInput = document.getElementById('telefone');
  const enderecoInput = document.getElementById('endereco');
  const objetivoInput = document.getElementById('objetivo');
  const habilidadesInput = document.getElementById('habilidades');
  const fotoInput = document.getElementById('foto');
  const modeloSelect = document.getElementById('modelo');

  // Preview
  const previewModal = document.getElementById('previewModal');
  const pv_nome = document.getElementById('pv_nome');
  const pv_cargo = document.getElementById('pv_cargo');
  const pv_contato = document.getElementById('pv_contato');
  const pv_objetivo = document.getElementById('pv_objetivo');
  const pv_habilidades = document.getElementById('pv_habilidades');
  const pv_foto = document.getElementById('pv_foto');
  const pv_idiomas = document.getElementById('pv_idiomas');
  const pv_certificacoes_block = document.getElementById('pv_certificacoes_block');
  const pv_certificacoes = document.getElementById('pv_certificacoes');
  const pv_projetos_section = document.getElementById('pv_projetos_section');
  const pv_projetos = document.getElementById('pv_projetos');

  const btnGerar = document.getElementById('btnGerar');
  const closePreview = document.getElementById('closePreview');
  const btnPix = document.getElementById('btnPix');
  const downloadPdf = document.getElementById('downloadPdf');

  // Adicionar blocos
  document.getElementById('addFormacao').onclick = () => {
    const box = document.createElement('div');
    box.className='repeat';
    box.innerHTML = '<input class="formacao-curso" placeholder="Curso"><input class="formacao-instituicao" placeholder="Institui√ß√£o"><input class="formacao-ano" placeholder="Ano">';
    document.getElementById('formacoesList').appendChild(box);
  };

  document.getElementById('addExperiencia').onclick = () => {
    const box = document.createElement('div');
    box.className='repeat';
    box.innerHTML = '<input class="exp-empresa" placeholder="Empresa"><input class="exp-cargo" placeholder="Cargo"><textarea class="exp-desc" placeholder="Descri√ß√£o"></textarea>';
    document.getElementById('experienciasList').appendChild(box);
  };

  // FOTO ‚Äì carregar e exibir no preview
  fotoInput.addEventListener("change", function () {
    const file = this.files[0];
    if (!file) return;
    const reader = new FileReader();
    reader.onload = function (e) {
      pv_foto.style.backgroundImage = `url(${e.target.result})`;
      pv_foto.innerText = "";
    };
    reader.readAsDataURL(file);
  });

  // GERAR CURR√çCULO
  btnGerar.onclick = function () {
    const modelo = modeloSelect.value;

    pv_nome.textContent = nomeInput.value || "Seu Nome";
    pv_cargo.textContent = profissaoInput.value || "Profiss√£o";
    pv_objetivo.textContent = objetivoInput.value || "";
    pv_habilidades.innerHTML = '';
    pv_idiomas.textContent = "Portugu√™s ‚Äî Nativo";
    pv_certificacoes_block.style.display = 'none';
    pv_projetos_section.style.display = 'none';

    // Contato
    let contato = "";
    if(telefoneInput.value) contato += "‚òé " + telefoneInput.value + "<br>";
    if(emailInput.value) contato += "‚úâ " + emailInput.value + "<br>";
    if(enderecoInput.value) contato += "üìç " + enderecoInput.value;
    pv_contato.innerHTML = contato;

    // Habilidades
    habilidadesInput.value.split(',').forEach(skill => {
      if(skill.trim()){
        const div = document.createElement('div');
        div.textContent = skill.trim();
        div.className = 'skill-bar';
        const fill = document.createElement('div');
        fill.className='skill-fill';
        fill.style.width='80%';
        div.appendChild(fill);
        pv_habilidades.appendChild(div);
      }
    });

    // Se modelo premium
    if(modelo==='premium'){
      pv_certificacoes_block.style.display='block';
      pv_certificacoes.innerHTML = '<div>Certifica√ß√£o Exemplo</div>';
      pv_projetos_section.style.display='block';
      pv_projetos.innerHTML = '<div>Projeto Exemplo ‚Ä¢ <a href="#">link</a></div>';
      btnPix.style.display='inline-flex';
      downloadPdf.disabled = true;
    }else{
      btnPix.style.display='none';
      downloadPdf.disabled = false;
    }

    previewModal.style.display='flex';
  };

  closePreview.onclick = ()=>previewModal.style.display='none';

  // PIX / PAGAMENTO SIMULADO
  btnPix.onclick = () => {
    const linkPix = "https://linkpix.com/seu-pix"; // substituir pelo seu link real
    if(confirm("Confirma pagamento R$4,99 via Pix?")){
      window.open(linkPix,'_blank');
      alert("Pagamento realizado! Agora voc√™ pode baixar o PDF.");
      downloadPdf.disabled = false;
      btnPix.style.display='none';
    }
  };

  // DOWNLOAD PDF
  downloadPdf.onclick = async () => {
    const a4 = document.getElementById('a4Sheet');
    const canvas = await html2canvas(a4,{scale:2,useCORS:true});
    const img = canvas.toDataURL("image/png");
    const pdf = new jspdf.jsPDF("p","pt","a4");
    const w = pdf.internal.pageSize.getWidth();
    const h = pdf.internal.pageSize.getHeight();
    pdf.addImage(img,"PNG",0,0,w,h);
    pdf.save((nomeInput.value||"curriculo")+".pdf");
  };

})();
</script>
</body>
</html>
