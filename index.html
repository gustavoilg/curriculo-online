<!doctype html>
<html lang="pt-BR">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Gerador de CurrÃ­culo â€” Modelos Premium</title>

<style>
/* ===== RESET ===== */
*{box-sizing:border-box;margin:0;padding:0;font-family:Inter,Arial,sans-serif}
body{background:linear-gradient(135deg,#eef2ff,#f0f9ff 60%,#fffaf0);padding:20px;display:flex;justify-content:center}

/* ===== CONTAINER ===== */
.container{width:100%;max-width:920px;background:#fff;padding:28px;border-radius:14px;box-shadow:0 12px 40px rgba(2,6,23,0.08)}
.titulo-principal{font-size:26px;font-weight:800;text-align:center;background:linear-gradient(90deg,#4f46e5,#9333ea);-webkit-background-clip:text;color:transparent}
.subtitulo{text-align:center;color:#6b7280;margin-bottom:16px}

/* ===== SECTIONS ===== */
.section{background:#fbfdff;border:1px solid #eef2ff;padding:14px;border-radius:12px;margin-bottom:12px}
.section-title{font-size:15px;font-weight:700;color:#1f2937;margin-bottom:10px}
input,textarea,select{width:100%;padding:10px;border-radius:10px;border:1px solid #e6eef9;background:#fff;margin-bottom:10px;font-size:14px}
textarea{resize:vertical;min-height:80px}

/* ===== BUTTONS ===== */
.add-btn{display:inline-flex;align-items:center;gap:8px;background:linear-gradient(180deg,#eef2ff,#f7fbff);border:1px solid #dbeafe;color:#1e3a8a;padding:8px 10px;border-radius:8px;cursor:pointer;font-weight:600}
.btn-primary{background:linear-gradient(90deg,#4f46e5,#7c3aed);color:#fff;border:none;padding:12px 16px;border-radius:10px;cursor:pointer;font-weight:700}
.btn-secondary{background:#eef2ff;border:1px solid #c7d2fe;color:#1e3a8a;padding:10px 14px;border-radius:10px;cursor:pointer}

/* ===== PREVIEW ===== */
.preview-modal{display:none;position:fixed;inset:0;background:rgba(0,0,0,0.6);backdrop-filter:blur(4px);justify-content:center;align-items:flex-start;padding:28px;z-index:1200;overflow:auto}
.preview-wrapper{position:relative;transform:scale(0.62);transform-origin:top center}
.close-preview{position:absolute;top:-56px;right:0;font-size:42px;color:#fff;background:transparent;border:none;cursor:pointer}

/* ===== A4 SHEET ===== */
.a4-sheet{width:794px;height:1123px;background:#fff;border-radius:6px;display:flex;flex-direction:column;overflow:hidden;box-shadow:0 10px 40px rgba(2,6,23,0.15)}
.topbar{height:120px;background:linear-gradient(90deg,#365b90,#2a4770);position:relative}
.sheet-inner{display:flex;flex:1}
.left-col{width:240px;padding:22px;background:#fafbfd;border-right:1px solid #eef2ff;display:flex;flex-direction:column;gap:16px}
.right-col{flex:1;padding:28px 36px;overflow:auto}

/* ===== FOTO ===== */
.photo{width:120px;height:120px;border-radius:999px;background:#fff;border:4px solid rgba(255,255,255,0.2);display:flex;align-items:center;justify-content:center;font-weight:700;color:#334155;margin-bottom:4px;background-size:cover;background-position:center;background-repeat:no-repeat}

/* ===== PV BLOCKS ===== */
.pv-block h4{font-size:13px;color:#0f172a;margin-bottom:8px;border-bottom:1px solid #e6eef9;padding-bottom:6px}
.pv-block p{font-size:13px;color:#475569;line-height:1.45}
#pv_nome{font-size:30px;font-weight:800;color:#0f172a;margin-bottom:6px}
.pv-cargo{font-size:13px;color:#64748b;margin-bottom:12px}
.pv-section{margin-top:12px}
.pv-section h3{font-size:14px;color:#0f172a;border-bottom:1px solid #e6eef9;padding-bottom:6px;margin-bottom:8px}
.pv-section p{font-size:14px;color:#334155;line-height:1.5;margin-bottom:6px}
.pv-item{margin-bottom:10px}

/* ===== PREMIUM STYLES ===== */
.premium1 .topbar{background:linear-gradient(90deg,#111827,#4f46e5);}
.premium1 .right-col h1{font-family:'Georgia',serif;color:#1f2937;}
.premium2 .topbar{background:#facc15;}
.premium2 .left-col{background:#fef3c7;}
.premium2 .pv-section h3{color:#b45309;}

/* ===== RESPONSIVE ===== */
@media(max-width:1000px){ .preview-wrapper{transform:scale(0.46)} }
@media(max-width:640px){ body{padding:18px} .container{padding:18px} .preview-wrapper{transform:scale(0.35)} }
</style>

<!-- LIBS -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

</head>
<body>
<div class="container">
  <h1 class="titulo-principal">Gerador de CurrÃ­culo Profissional</h1>
  <p class="subtitulo">Escolha seu modelo e preencha os campos</p>

  <!-- MODELO -->
  <section class="section">
    <div class="section-title">Modelo</div>
    <select id="modeloSelect">
      <option value="basico">BÃ¡sico (Gratuito)</option>
      <option value="premium1">Premium 1 â€” Elegante</option>
      <option value="premium2">Premium 2 â€” Criativo</option>
    </select>
  </section>

  <!-- DADOS PESSOAIS -->
  <section class="section">
    <div class="section-title">DADOS PESSOAIS</div>
    <input id="nome" placeholder="Nome completo">
    <input type="file" id="foto" accept="image/*">
    <input id="profissao" placeholder="ProfissÃ£o">
    <input id="email" placeholder="E-mail">
    <input id="telefone" placeholder="Telefone">
    <input id="endereco" placeholder="EndereÃ§o">
  </section>

  <!-- OBJETIVO -->
  <section class="section">
    <div class="section-title">OBJETIVO / RESUMO</div>
    <textarea id="objetivo" placeholder="Descreva seu objetivo profissional"></textarea>
  </section>

  <!-- FORMAÃ‡Ã•ES -->
  <section class="section">
    <div class="section-title">FORMAÃ‡ÃƒO ACADÃŠMICA</div>
    <div id="formacoesList">
      <div class="repeat">
        <input class="formacao-curso" placeholder="Curso">
        <input class="formacao-instituicao" placeholder="InstituiÃ§Ã£o">
        <input class="formacao-ano" placeholder="Ano">
      </div>
    </div>
    <div class="add-btn" id="addFormacao">+ Adicionar outro curso</div>
  </section>

  <!-- EXPERIÃŠNCIAS -->
  <section class="section">
    <div class="section-title">EXPERIÃŠNCIAS PROFISSIONAIS</div>
    <div id="experienciasList">
      <div class="repeat">
        <input class="exp-empresa" placeholder="Empresa">
        <input class="exp-cargo" placeholder="Cargo">
        <textarea class="exp-desc" placeholder="DescriÃ§Ã£o da experiÃªncia"></textarea>
      </div>
    </div>
    <div class="add-btn" id="addExperiencia">+ Adicionar outra experiÃªncia</div>
  </section>

  <!-- HABILIDADES -->
  <section class="section">
    <div class="section-title">HABILIDADES / IDIOMAS</div>
    <textarea id="habilidades" placeholder="Ex: PortuguÃªs, InglÃªs, Excel, ComunicaÃ§Ã£o"></textarea>
  </section>

  <button id="btnGerar" class="btn-primary">Gerar Meu CurrÃ­culo</button>
</div>

<!-- PREVIEW -->
<div id="previewModal" class="preview-modal">
  <div class="preview-wrapper">
    <button id="closePreview" class="close-preview">âœ•</button>
    <div class="a4-sheet" id="a4Sheet">
      <div class="topbar"></div>
      <div class="sheet-inner">
        <aside class="left-col">
          <div class="photo" id="pv_foto">FOTO</div>
          <div class="pv-block">
            <h4>CONTATO</h4>
            <p id="pv_contato"></p>
          </div>
          <div class="pv-block">
            <h4>IDIOMAS</h4>
            <p id="pv_idiomas"></p>
          </div>
          <div class="pv-block">
            <h4>HABILIDADES</h4>
            <p id="pv_habilidades"></p>
          </div>
        </aside>
        <main class="right-col">
          <h1 id="pv_nome">Nome</h1>
          <div id="pv_cargo" class="pv-cargo"></div>
          <section class="pv-section">
            <h3>PERFIL PROFISSIONAL</h3>
            <p id="pv_objetivo"></p>
          </section>
          <section class="pv-section">
            <h3>EXPERIÃŠNCIA PROFISSIONAL</h3>
            <div id="pv_experiencias"></div>
          </section>
          <section class="pv-section">
            <h3>FORMAÃ‡ÃƒO ACADÃŠMICA</h3>
            <div id="pv_formacoes"></div>
          </section>
        </main>
      </div>
    </div>
    <div class="preview-actions">
      <button id="watchAd" class="btn-secondary">Pagar via PIX R$4,99</button>
      <button id="downloadPdf" class="btn-primary" disabled>Baixar PDF</button>
    </div>
  </div>
</div>

<script>
(function(){

// Inputs
const nomeInput = document.getElementById('nome');
const profissaoInput = document.getElementById('profissao');
const emailInput = document.getElementById('email');
const telefoneInput = document.getElementById('telefone');
const enderecoInput = document.getElementById('endereco');
const objetivoInput = document.getElementById('objetivo');
const habilidadesInput = document.getElementById('habilidades');
const fotoInput = document.getElementById('foto');
const modeloSelect = document.getElementById('modeloSelect');

// Preview elements
const previewModal = document.getElementById('previewModal');
const closePreview = document.getElementById('closePreview');
const a4Sheet = document.getElementById('a4Sheet');
const pvNome = document.getElementById('pv_nome');
const pvCargo = document.getElementById('pv_cargo');
const pvObjetivo = document.getElementById('pv_objetivo');
const pvHabilidades = document.getElementById('pv_habilidades');
const pvContatos = document.getElementById('pv_contato');
const pvIdiomas = document.getElementById('pv_idiomas');
const pvFormacoes = document.getElementById('pv_formacoes');
const pvExperiencias = document.getElementById('pv_experiencias');
const pvFoto = document.getElementById('pv_foto');

const btnGerar = document.getElementById('btnGerar');
const watchAd = document.getElementById('watchAd');
const downloadPdf = document.getElementById('downloadPdf');

let adWatched = false;

// Adicionar blocos
document.getElementById('addFormacao').onclick = () => {
  const box = document.createElement('div');
  box.className='repeat';
  box.innerHTML='<input class="formacao-curso" placeholder="Curso"><input class="formacao-instituicao" placeholder="InstituiÃ§Ã£o"><input class="formacao-ano" placeholder="Ano">';
  document.getElementById('formacoesList').appendChild(box);
};
document.getElementById('addExperiencia').onclick = () => {
  const box = document.createElement('div');
  box.className='repeat';
  box.innerHTML='<input class="exp-empresa" placeholder="Empresa"><input class="exp-cargo" placeholder="Cargo"><textarea class="exp-desc" placeholder="DescriÃ§Ã£o da experiÃªncia"></textarea>';
  document.getElementById('experienciasList').appendChild(box);
};

// Fechar preview
closePreview.onclick = () => previewModal.style.display='none';

// Foto
fotoInput.addEventListener("change", function(){
  const file=this.files[0];
  if(!file) return;
  const reader=new FileReader();
  reader.onload=function(e){
    pvFoto.style.backgroundImage=`url(${e.target.result})`;
    pvFoto.innerText="";
  };
  reader.readAsDataURL(file);
});

// Gerar preview
btnGerar.onclick = () => {

  const modelo = modeloSelect.value;
  a4Sheet.className='a4-sheet';
  if(modelo==='premium1') a4Sheet.classList.add('premium1');
  if(modelo==='premium2') a4Sheet.classList.add('premium2');

  // Aplicar valores
  pvNome.textContent = nomeInput.value||"Seu Nome";
  pvCargo.textContent = profissaoInput.value||"ProfissÃ£o";
  pvObjetivo.textContent = objetivoInput.value||"";
  pvHabilidades.textContent = habilidadesInput.value||"";
  let contato="";
  if(telefoneInput.value) contato+="â˜Ž "+telefoneInput.value+"<br>";
  if(emailInput.value) contato+="âœ‰ "+emailInput.value+"<br>";
  if(enderecoInput.value) contato+="ðŸ“ "+enderecoInput.value;
  pvContatos.innerHTML=contato;
  pvIdiomas.innerText="PortuguÃªs â€” Nativo";

  // FormaÃ§Ãµes
  pvFormacoes.innerHTML='';
  document.querySelectorAll('#formacoesList .repeat').forEach(f=>{
    const curso=f.querySelector('.formacao-curso').value;
    const inst=f.querySelector('.formacao-instituicao').value;
    const ano=f.querySelector('.formacao-ano').value;
    if(curso||inst||ano){
      const div=document.createElement('div');
      div.className='pv-item';
      div.innerHTML=`<strong>${curso}</strong><div style="font-size:13px;color:#475569">${inst} ${ano?(" â€¢ "+ano):""}</div>`;
      pvFormacoes.appendChild(div);
    }
  });

  // ExperiÃªncias
  pvExperiencias.innerHTML='';
  document.querySelectorAll('#experienciasList .repeat').forEach(exp=>{
    const emp=exp.querySelector('.exp-empresa').value;
    const cargo=exp.querySelector('.exp-cargo').value;
    const desc=exp.querySelector('.exp-desc').value;
    if(emp||cargo||desc){
      const div=document.createElement('div');
      div.className='pv-item';
      div.innerHTML=`<strong>${cargo} â€” ${emp}</strong><div style="font-size:13px;color:#475569;margin-top:6px">${desc.replace(/\n/g,'<br>')}</div>`;
      pvExperiencias.appendChild(div);
    }
  });

  // Exibir preview
  previewModal.style.display='flex';
  adWatched=false;
  downloadPdf.disabled = modelo==='basico'?false:true;
};

// PIX / Ad
watchAd.onclick = () => {
  alert("Para liberar o download Premium, faÃ§a o pagamento de R$4,99 via PIX.\nUse o QR ou o link direto.");
  setTimeout(()=>{adWatched=true; downloadPdf.disabled=false;},3000);
};

// Baixar PDF
downloadPdf.onclick = async () => {
  if(!adWatched) return alert("Efetue o pagamento via PIX antes!");
  const canvas = await html2canvas(a4Sheet,{scale:2,useCORS:true});
  const img=canvas.toDataURL("image/png");
  const pdf=new jspdf.jsPDF("p","pt","a4");
  const w=pdf.internal.pageSize.getWidth();
  const h=pdf.internal.pageSize.getHeight();
  pdf.addImage(img,"PNG",0,0,w,h);
  pdf.save((nomeInput.value||"curriculo")+".pdf");
};

})();
</script>
</body>
</html>
